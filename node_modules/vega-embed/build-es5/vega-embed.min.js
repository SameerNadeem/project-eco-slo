!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vega"),require("vega-lite")):"function"==typeof define&&define.amd?define(["vega","vega-lite"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).vegaEmbed=t(e.vega,e.vegaLite)}(this,(function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r=n(e),o=n(t);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){a(i,r,o,c,s,"next",e)}function s(e){a(i,r,o,c,s,"throw",e)}c(void 0)}))}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var l,u=Object.prototype,f=u.hasOwnProperty,h="function"==typeof Symbol?Symbol:{},p=h.iterator||"@@iterator",d=h.asyncIterator||"@@asyncIterator",v=h.toStringTag||"@@toStringTag";function g(e,t,n,r){var o=t&&t.prototype instanceof x?t:x,i=Object.create(o.prototype),a=new _(r||[]);return i._invoke=function(e,t,n){var r=y;return function(o,i){if(r===E)throw new Error("Generator is already running");if(r===w){if("throw"===o)throw i;return M()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=C(a,n);if(c){if(c===O)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===y)throw r=w,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=E;var s=m(e,t,n);if("normal"===s.type){if(r=n.done?w:b,s.arg===O)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=w,n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}var y="suspendedStart",b="suspendedYield",E="executing",w="completed",O={};function x(){}function A(){}function I(){}var N={};N[p]=function(){return this};var L=Object.getPrototypeOf,S=L&&L(L(j([])));S&&S!==u&&f.call(S,p)&&(N=S);var T=I.prototype=x.prototype=Object.create(N);function R(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function k(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))}function D(e,t){function n(r,o,i,a){var c=m(e[r],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"===s(u)&&f.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,a)}),(function(e){n("throw",e,i,a)})):t.resolve(u).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,a)}))}a(c.arg)}var r;this._invoke=function(e,o){function i(){return new t((function(t,r){n(e,o,t,r)}))}return r=r?r.then(i,i):i()}}function C(e,t){var n=e.iterator[t.method];if(n===l){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=l,C(e,t),"throw"===t.method))return O;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var r=m(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,O;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=l),t.delegate=null,O):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,O)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function j(e){if(e){var t=e[p];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(f.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=l,t.done=!0,t};return r.next=r}}return{next:M}}function M(){return{value:l,done:!0}}A.prototype=T.constructor=I,I.constructor=A,I[v]=A.displayName="GeneratorFunction",R(D.prototype),D.prototype[d]=function(){return this},R(T),T[v]="Generator",T[p]=function(){return this},T.toString=function(){return"[object Generator]"},_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&f.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=l),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=f.call(o,"catchLoc"),c=f.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&f.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,O):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),O},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),O}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=l),O}};var z,U={wrap:g,isGeneratorFunction:k,AsyncIterator:D,mark:function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,I):(e.__proto__=I,v in e||(e[v]="GeneratorFunction")),e.prototype=Object.create(T),e},awrap:function(e){return{__await:e}},async:function(e,t,n,r,o){void 0===o&&(o=Promise);var i=new D(g(e,t,n,r),o);return k(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},keys:function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},values:j},G=(z=function(e,t){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},z(e,t)},function(e,t){function n(){this.constructor=e}z(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),B=Object.prototype.hasOwnProperty;
/*!
   * https://github.com/Starcounter-Jack/JSON-Patch
   * (c) 2017-2022 Joachim Wester
   * MIT licensed
   */function X(e,t){return B.call(e,t)}function V(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var o in e)X(e,o)&&r.push(o);return r}function W(e){switch(s(e)){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function $(e){for(var t,n=0,r=e.length;n<r;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function H(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function q(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Y(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(Y(e[t]))return!0}else if("object"===s(e))for(var r=V(e),o=r.length,i=0;i<o;i++)if(Y(e[r[i]]))return!0;return!1}function J(e,t){var n=[e];for(var r in t){var o="object"===s(t[r])?JSON.stringify(t[r],null,2):t[r];void 0!==o&&n.push(r+": "+o)}return n.join("\n")}var Q=function(e){function t(t,n,r,o,i){var a=this.constructor,c=e.call(this,J(t,{name:n,index:r,operation:o,tree:i}))||this;return c.name=n,c.index=r,c.operation=o,c.tree=i,Object.setPrototypeOf(c,a.prototype),c.message=J(t,{name:n,index:r,operation:o,tree:i}),c}return G(t,e),t}(Error),Z=Q,K=W,ee={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=ne(n,this.path);r&&(r=W(r));var o=re(n,{op:"remove",path:this.from}).removed;return re(n,{op:"add",path:this.path,value:o}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=ne(n,this.from);return re(n,{op:"add",path:this.path,value:W(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:ce(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},te={add:function(e,t,n){return $(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:ee.move,copy:ee.copy,test:ee.test,_get:ee._get};function ne(e,t){if(""==t)return e;var n={op:"_get",path:t};return re(e,n),n.value}function re(e,t,n,r,o,i){if(void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===i&&(i=0),n&&("function"==typeof n?n(t,0,e,t.path):ie(t,0)),""===t.path){var a={newDocument:e};if("add"===t.op)return a.newDocument=t.value,a;if("replace"===t.op)return a.newDocument=t.value,a.removed=e,a;if("move"===t.op||"copy"===t.op)return a.newDocument=ne(e,t.from),"move"===t.op&&(a.removed=e),a;if("test"===t.op){if(a.test=ce(e,t.value),!1===a.test)throw new Z("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return a.newDocument=e,a}if("remove"===t.op)return a.removed=e,a.newDocument=null,a;if("_get"===t.op)return t.value=e,a;if(n)throw new Z("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,t,e);return a}r||(e=W(e));var c=(t.path||"").split("/"),l=e,u=1,f=c.length,h=void 0,p=void 0,d=void 0;for(d="function"==typeof n?n:ie;;){if((p=c[u])&&-1!=p.indexOf("~")&&(p=q(p)),o&&("__proto__"==p||"prototype"==p&&u>0&&"constructor"==c[u-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&void 0===h&&(void 0===l[p]?h=c.slice(0,u).join("/"):u==f-1&&(h=t.path),void 0!==h&&d(t,0,e,h)),u++,Array.isArray(l)){if("-"===p)p=l.length;else{if(n&&!$(p))throw new Z("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,t,e);$(p)&&(p=~~p)}if(u>=f){if(n&&"add"===t.op&&p>l.length)throw new Z("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,t,e);if(!1===(a=te[t.op].call(t,l,p,e)).test)throw new Z("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return a}}else if(u>=f){if(!1===(a=ee[t.op].call(t,l,p,e)).test)throw new Z("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return a}if(l=l[p],n&&u<f&&(!l||"object"!==s(l)))throw new Z("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",i,t,e)}}function oe(e,t,n,r,o){if(void 0===r&&(r=!0),void 0===o&&(o=!0),n&&!Array.isArray(t))throw new Z("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=W(e));for(var i=new Array(t.length),a=0,c=t.length;a<c;a++)i[a]=re(e,t[a],n,!0,o,a),e=i[a].newDocument;return i.newDocument=e,i}function ie(e,t,n,r){if("object"!==s(e)||null===e||Array.isArray(e))throw new Z("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(!ee[e.op])throw new Z("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n);if("string"!=typeof e.path)throw new Z("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new Z('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new Z("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new Z("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&Y(e.value))throw new Z("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n)if("add"==e.op){var o=e.path.split("/").length,i=r.split("/").length;if(o!==i+1&&o!==i)throw new Z("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==r)throw new Z("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if("move"===e.op||"copy"===e.op){var a=ae([{op:"_get",path:e.from,value:void 0}],n);if(a&&"OPERATION_PATH_UNRESOLVABLE"===a.name)throw new Z("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}function ae(e,t,n){try{if(!Array.isArray(e))throw new Z("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)oe(W(t),W(e),n||!0);else{n=n||ie;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(e){if(e instanceof Z)return e;throw e}}function ce(e,t){if(e===t)return!0;if(e&&t&&"object"==s(e)&&"object"==s(t)){var n,r,o,i=Array.isArray(e),a=Array.isArray(t);if(i&&a){if((r=e.length)!=t.length)return!1;for(n=r;0!=n--;)if(!ce(e[n],t[n]))return!1;return!0}if(i!=a)return!1;var c=Object.keys(e);if((r=c.length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!t.hasOwnProperty(c[n]))return!1;for(n=r;0!=n--;)if(!ce(e[o=c[n]],t[o]))return!1;return!0}return e!=e&&t!=t}var se=Object.freeze({__proto__:null,JsonPatchError:Z,deepClone:K,getValueByPointer:ne,applyOperation:re,applyPatch:oe,applyReducer:function(e,t,n){var r=re(e,t);if(!1===r.test)throw new Z("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument},validator:ie,validate:ae,_areEquals:ce}),le=new WeakMap,ue=function(e){this.observers=new Map,this.obj=e},fe=function(e,t){this.callback=e,this.observer=t};function he(e,t){void 0===t&&(t=!1);var n=le.get(e.object);pe(n.value,e.object,e.patches,"",t),e.patches.length&&oe(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function pe(e,t,n,r,o){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var i=V(t),a=V(e),c=!1,l=a.length-1;l>=0;l--){var u=e[h=a[l]];if(!X(t,h)||void 0===t[h]&&void 0!==u&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(o&&n.push({op:"test",path:r+"/"+H(h),value:W(u)}),n.push({op:"remove",path:r+"/"+H(h)}),c=!0):(o&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}));else{var f=t[h];"object"==s(u)&&null!=u&&"object"==s(f)&&null!=f&&Array.isArray(u)===Array.isArray(f)?pe(u,f,n,r+"/"+H(h),o):u!==f&&(o&&n.push({op:"test",path:r+"/"+H(h),value:W(u)}),n.push({op:"replace",path:r+"/"+H(h),value:W(f)}))}}if(c||i.length!=a.length)for(l=0;l<i.length;l++){var h;X(e,h=i[l])||void 0===t[h]||n.push({op:"add",path:r+"/"+H(h),value:W(t[h])})}}}var de=Object.freeze({__proto__:null,unobserve:function(e,t){t.unobserve()},observe:function(e,t){var n,r=function(e){return le.get(e)}(e);if(r){var o=function(e,t){return e.observers.get(t)}(r,t);n=o&&o.observer}else r=new ue(e),le.set(e,r);if(n)return n;if(n={},r.value=W(e),t){n.callback=t,n.next=null;var i=function(){he(n)},a=function(){clearTimeout(n.next),n.next=setTimeout(i)};"undefined"!=typeof window&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return n.patches=[],n.object=e,n.unobserve=function(){he(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(r,n),"undefined"!=typeof window&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},r.observers.set(t,new fe(t,n)),n},generate:he,compare:function(e,t,n){void 0===n&&(n=!1);var r=[];return pe(e,t,r,"",n),r}});Object.assign({},se,de,{JsonPatchError:Q,deepClone:W,escapePathComponent:H,unescapePathComponent:q});var ve=/("(?:[^\\"]|\\.)*")|[:,]/g,ge=function(e,t){var n,r,o;return t=t||{},n=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),r=""===n?1/0:void 0===t.maxLength?80:t.maxLength,o=t.replacer,function e(t,i,a){var c,l,u,f,h,p,d,v,g,m,y,b;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0===(y=JSON.stringify(t,o)))return y;if(d=r-i.length-a,y.length<=d&&(g=y.replace(ve,(function(e,t){return t||e+" "}))).length<=d)return g;if(null!=o&&(t=JSON.parse(y),o=void 0),"object"===s(t)&&null!==t){if(v=i+n,u=[],l=0,Array.isArray(t))for(m="[",c="]",d=t.length;l<d;l++)u.push(e(t[l],v,l===d-1?0:1)||"null");else for(m="{",c="}",d=(p=Object.keys(t)).length;l<d;l++)f=p[l],h=JSON.stringify(f)+": ",void 0!==(b=e(t[f],v,h.length+(l===d-1?0:1)))&&u.push(h+b);if(u.length>0)return[m,n+u.join(",\n"+v),c].join("\n"+i)}return y}(e,"",0)};function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t){if(e){if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(e,t):void 0}}function be(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var xe=Ae;function Ae(e){var t=this;if(t instanceof Ae||(t=new Ae),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}function Ie(e,t,n){var r=t===e.head?new Se(n,null,t,e):new Se(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function Ne(e,t){e.tail=new Se(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Le(e,t){e.head=new Se(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Se(e,t,n,r){if(!(this instanceof Se))return new Se(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}Ae.Node=Se,Ae.create=Ae,Ae.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},Ae.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},Ae.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},Ae.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)Ne(this,arguments[e]);return this.length},Ae.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Le(this,arguments[e]);return this.length},Ae.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},Ae.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},Ae.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},Ae.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},Ae.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},Ae.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},Ae.prototype.map=function(e,t){t=t||this;for(var n=new Ae,r=this.head;null!==r;)n.push(e.call(t,r.value,this)),r=r.next;return n},Ae.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Ae,r=this.tail;null!==r;)n.push(e.call(t,r.value,this)),r=r.prev;return n},Ae.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var o=0;null!==r;o++)n=e(n,r.value,o),r=r.next;return n},Ae.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var o=this.length-1;null!==r;o--)n=e(n,r.value,o),r=r.prev;return n},Ae.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},Ae.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},Ae.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new Ae;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,o=this.head;null!==o&&r<e;r++)o=o.next;for(;null!==o&&r<t;r++,o=o.next)n.push(o.value);return n},Ae.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new Ae;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,o=this.tail;null!==o&&r>t;r--)o=o.prev;for(;null!==o&&r>e;r--,o=o.prev)n.push(o.value);return n},Ae.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;null!==r&&n<e;n++)r=r.next;var o=[];for(n=0;r&&n<t;n++)o.push(r.value),r=this.removeNode(r);null===r&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=Ie(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return o},Ae.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{Ae.prototype[Symbol.iterator]=U.mark((function e(){var t;return U.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}catch(e){}var Te=xe,Re=Symbol("max"),ke=Symbol("length"),De=Symbol("lengthCalculator"),Ce=Symbol("allowStale"),Fe=Symbol("maxAge"),Pe=Symbol("dispose"),_e=Symbol("noDisposeOnSet"),je=Symbol("lruList"),Me=Symbol("cache"),ze=Symbol("updateAgeOnGet"),Ue=function(){return 1},Ge=function(){function e(t){if(Ee(this,e),"number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[Re]=t.max||1/0;var n=t.length||Ue;if(this[De]="function"!=typeof n?Ue:n,this[Ce]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[Fe]=t.maxAge||0,this[Pe]=t.dispose,this[_e]=t.noDisposeOnSet||!1,this[ze]=t.updateAgeOnGet||!1,this.reset()}return Oe(e,[{key:"max",get:function(){return this[Re]},set:function(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[Re]=e||1/0,Ve(this)}},{key:"allowStale",get:function(){return this[Ce]},set:function(e){this[Ce]=!!e}},{key:"maxAge",get:function(){return this[Fe]},set:function(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[Fe]=e,Ve(this)}},{key:"lengthCalculator",get:function(){return this[De]},set:function(e){var t=this;"function"!=typeof e&&(e=Ue),e!==this[De]&&(this[De]=e,this[ke]=0,this[je].forEach((function(e){e.length=t[De](e.value,e.key),t[ke]+=e.length}))),Ve(this)}},{key:"length",get:function(){return this[ke]}},{key:"itemCount",get:function(){return this[je].length}},{key:"rforEach",value:function(e,t){t=t||this;for(var n=this[je].tail;null!==n;){var r=n.prev;He(this,e,n,t),n=r}}},{key:"forEach",value:function(e,t){t=t||this;for(var n=this[je].head;null!==n;){var r=n.next;He(this,e,n,t),n=r}}},{key:"keys",value:function(){return this[je].toArray().map((function(e){return e.key}))}},{key:"values",value:function(){return this[je].toArray().map((function(e){return e.value}))}},{key:"reset",value:function(){var e=this;this[Pe]&&this[je]&&this[je].length&&this[je].forEach((function(t){return e[Pe](t.key,t.value)})),this[Me]=new Map,this[je]=new Te,this[ke]=0}},{key:"dump",value:function(){var e=this;return this[je].map((function(t){return!Xe(e,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}})).toArray().filter((function(e){return e}))}},{key:"dumpLru",value:function(){return this[je]}},{key:"set",value:function(e,t,n){if((n=n||this[Fe])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");var r=n?Date.now():0,o=this[De](t,e);if(this[Me].has(e)){if(o>this[Re])return We(this,this[Me].get(e)),!1;var i=this[Me].get(e).value;return this[Pe]&&(this[_e]||this[Pe](e,i.value)),i.now=r,i.maxAge=n,i.value=t,this[ke]+=o-i.length,i.length=o,this.get(e),Ve(this),!0}var a=new $e(e,t,o,r,n);return a.length>this[Re]?(this[Pe]&&this[Pe](e,t),!1):(this[ke]+=a.length,this[je].unshift(a),this[Me].set(e,this[je].head),Ve(this),!0)}},{key:"has",value:function(e){if(!this[Me].has(e))return!1;var t=this[Me].get(e).value;return!Xe(this,t)}},{key:"get",value:function(e){return Be(this,e,!0)}},{key:"peek",value:function(e){return Be(this,e,!1)}},{key:"pop",value:function(){var e=this[je].tail;return e?(We(this,e),e.value):null}},{key:"del",value:function(e){We(this,this[Me].get(e))}},{key:"load",value:function(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var r=e[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{var i=o-t;i>0&&this.set(r.k,r.v,i)}}}},{key:"prune",value:function(){var e=this;this[Me].forEach((function(t,n){return Be(e,n,!1)}))}}]),e}(),Be=function(e,t,n){var r=e[Me].get(t);if(r){var o=r.value;if(Xe(e,o)){if(We(e,r),!e[Ce])return}else n&&(e[ze]&&(r.value.now=Date.now()),e[je].unshiftNode(r));return o.value}},Xe=function(e,t){if(!t||!t.maxAge&&!e[Fe])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Fe]&&n>e[Fe]},Ve=function(e){if(e[ke]>e[Re])for(var t=e[je].tail;e[ke]>e[Re]&&null!==t;){var n=t.prev;We(e,t),t=n}},We=function(e,t){if(t){var n=t.value;e[Pe]&&e[Pe](n.key,n.value),e[ke]-=n.length,e[Me].delete(n.key),e[je].removeNode(t)}},$e=Oe((function e(t,n,r,o,i){Ee(this,e),this.key=t,this.value=n,this.length=r,this.now=o,this.maxAge=i||0})),He=function(e,t,n,r){var o=n.value;Xe(e,o)&&(We(e,n),e[Ce]||(o=void 0)),o&&t.call(r,o.value,o.key,e)},qe=Ge,Ye=["includePrerelease","loose","rtl"],Je=function(e){return e?"object"!==s(e)?{loose:!0}:Ye.filter((function(t){return e[t]})).reduce((function(e,t){return e[t]=!0,e}),{}):{}},Qe={exports:{}},Ze={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Ke="object"===("undefined"==typeof process?"undefined":s(process))&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,["SEMVER"].concat(n))}:function(){},et=Ke;!function(e,t){var n=Ze.MAX_SAFE_COMPONENT_LENGTH,r=et,o=(t=e.exports={}).re=[],i=t.src=[],a=t.t={},c=0,s=function(e,t,n){var s=c++;r(e,s,t),a[e]=s,i[s]=t,o[s]=new RegExp(t,n?"g":void 0)};s("NUMERICIDENTIFIER","0|[1-9]\\d*"),s("NUMERICIDENTIFIERLOOSE","[0-9]+"),s("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),s("MAINVERSION","(".concat(i[a.NUMERICIDENTIFIER],")\\.")+"(".concat(i[a.NUMERICIDENTIFIER],")\\.")+"(".concat(i[a.NUMERICIDENTIFIER],")")),s("MAINVERSIONLOOSE","(".concat(i[a.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(i[a.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(i[a.NUMERICIDENTIFIERLOOSE],")")),s("PRERELEASEIDENTIFIER","(?:".concat(i[a.NUMERICIDENTIFIER],"|").concat(i[a.NONNUMERICIDENTIFIER],")")),s("PRERELEASEIDENTIFIERLOOSE","(?:".concat(i[a.NUMERICIDENTIFIERLOOSE],"|").concat(i[a.NONNUMERICIDENTIFIER],")")),s("PRERELEASE","(?:-(".concat(i[a.PRERELEASEIDENTIFIER],"(?:\\.").concat(i[a.PRERELEASEIDENTIFIER],")*))")),s("PRERELEASELOOSE","(?:-?(".concat(i[a.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(i[a.PRERELEASEIDENTIFIERLOOSE],")*))")),s("BUILDIDENTIFIER","[0-9A-Za-z-]+"),s("BUILD","(?:\\+(".concat(i[a.BUILDIDENTIFIER],"(?:\\.").concat(i[a.BUILDIDENTIFIER],")*))")),s("FULLPLAIN","v?".concat(i[a.MAINVERSION]).concat(i[a.PRERELEASE],"?").concat(i[a.BUILD],"?")),s("FULL","^".concat(i[a.FULLPLAIN],"$")),s("LOOSEPLAIN","[v=\\s]*".concat(i[a.MAINVERSIONLOOSE]).concat(i[a.PRERELEASELOOSE],"?").concat(i[a.BUILD],"?")),s("LOOSE","^".concat(i[a.LOOSEPLAIN],"$")),s("GTLT","((?:<|>)?=?)"),s("XRANGEIDENTIFIERLOOSE","".concat(i[a.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),s("XRANGEIDENTIFIER","".concat(i[a.NUMERICIDENTIFIER],"|x|X|\\*")),s("XRANGEPLAIN","[v=\\s]*(".concat(i[a.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(i[a.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(i[a.XRANGEIDENTIFIER],")")+"(?:".concat(i[a.PRERELEASE],")?").concat(i[a.BUILD],"?")+")?)?"),s("XRANGEPLAINLOOSE","[v=\\s]*(".concat(i[a.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(i[a.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(i[a.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(i[a.PRERELEASELOOSE],")?").concat(i[a.BUILD],"?")+")?)?"),s("XRANGE","^".concat(i[a.GTLT],"\\s*").concat(i[a.XRANGEPLAIN],"$")),s("XRANGELOOSE","^".concat(i[a.GTLT],"\\s*").concat(i[a.XRANGEPLAINLOOSE],"$")),s("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(n,"})")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:$|[^\\d])"),s("COERCERTL",i[a.COERCE],!0),s("LONETILDE","(?:~>?)"),s("TILDETRIM","(\\s*)".concat(i[a.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",s("TILDE","^".concat(i[a.LONETILDE]).concat(i[a.XRANGEPLAIN],"$")),s("TILDELOOSE","^".concat(i[a.LONETILDE]).concat(i[a.XRANGEPLAINLOOSE],"$")),s("LONECARET","(?:\\^)"),s("CARETTRIM","(\\s*)".concat(i[a.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",s("CARET","^".concat(i[a.LONECARET]).concat(i[a.XRANGEPLAIN],"$")),s("CARETLOOSE","^".concat(i[a.LONECARET]).concat(i[a.XRANGEPLAINLOOSE],"$")),s("COMPARATORLOOSE","^".concat(i[a.GTLT],"\\s*(").concat(i[a.LOOSEPLAIN],")$|^$")),s("COMPARATOR","^".concat(i[a.GTLT],"\\s*(").concat(i[a.FULLPLAIN],")$|^$")),s("COMPARATORTRIM","(\\s*)".concat(i[a.GTLT],"\\s*(").concat(i[a.LOOSEPLAIN],"|").concat(i[a.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",s("HYPHENRANGE","^\\s*(".concat(i[a.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(i[a.XRANGEPLAIN],")")+"\\s*$"),s("HYPHENRANGELOOSE","^\\s*(".concat(i[a.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(i[a.XRANGEPLAINLOOSE],")")+"\\s*$"),s("STAR","(<|>)?=?\\s*\\*"),s("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),s("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Qe,Qe.exports);var tt,nt,rt,ot,it=/^[0-9]+$/,at=function(e,t){var n=it.test(e),r=it.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},ct=at,st=et,lt=Ze.MAX_LENGTH,ut=Ze.MAX_SAFE_INTEGER,ft=Qe.exports.re,ht=Qe.exports.t,pt=Je,dt=ct,vt=function(){function e(t,n){if(Ee(this,e),n=pt(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: ".concat(t));if(t.length>lt)throw new TypeError("version is longer than ".concat(lt," characters"));st("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var r=t.trim().match(n.loose?ft[ht.LOOSE]:ft[ht.FULL]);if(!r)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>ut||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ut||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ut||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<ut)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}return Oe(e,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(t){if(st("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"==typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}},{key:"compareMain",value:function(t){return t instanceof e||(t=new e(t,this.options)),dt(this.major,t.major)||dt(this.minor,t.minor)||dt(this.patch,t.patch)}},{key:"comparePre",value:function(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],o=t.prerelease[n];if(st("prerelease compare",n,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return dt(r,o)}while(++n)}},{key:"compareBuild",value:function(t){t instanceof e||(t=new e(t,this.options));var n=0;do{var r=this.build[n],o=t.build[n];if(st("prerelease compare",n,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return dt(r,o)}while(++n)}},{key:"inc",value:function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(0===dt(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: ".concat(e))}return this.format(),this.raw=this.version,this}}]),e}(),gt=vt,mt=gt,yt=function(e,t,n){return new mt(e,n).compare(new mt(t,n))},bt=yt,Et=yt,wt=yt,Ot=yt,xt=yt,At=yt,It=function(e,t,n){return 0===bt(e,t,n)},Nt=function(e,t,n){return 0!==Et(e,t,n)},Lt=function(e,t,n){return wt(e,t,n)>0},St=function(e,t,n){return Ot(e,t,n)>=0},Tt=function(e,t,n){return xt(e,t,n)<0},Rt=function(e,t,n){return At(e,t,n)<=0},kt=function(e,t,n,r){switch(t){case"===":return"object"===s(e)&&(e=e.version),"object"===s(n)&&(n=n.version),e===n;case"!==":return"object"===s(e)&&(e=e.version),"object"===s(n)&&(n=n.version),e!==n;case"":case"=":case"==":return It(e,n,r);case"!=":return Nt(e,n,r);case">":return Lt(e,n,r);case">=":return St(e,n,r);case"<":return Tt(e,n,r);case"<=":return Rt(e,n,r);default:throw new TypeError("Invalid operator: ".concat(t))}};function Dt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ct(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ft(){if(ot)return rt;ot=1;var e=function(){function e(t,o){var i=this;if(Ee(this,e),o=n(o),t instanceof e)return t.loose===!!o.loose&&t.includePrerelease===!!o.includePrerelease?t:new e(t.raw,o);if(t instanceof r)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease,this.raw=t,this.set=t.split("||").map((function(e){return i.parseRange(e.trim())})).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(t));if(this.set.length>1){var a=this.set[0];if(this.set=this.set.filter((function(e){return!h(e[0])})),0===this.set.length)this.set=[a];else if(this.set.length>1){var c,s=Dt(this.set);try{for(s.s();!(c=s.n()).done;){var l=c.value;if(1===l.length&&p(l[0])){this.set=[l];break}}}catch(e){s.e(e)}finally{s.f()}}}this.format()}return Oe(e,[{key:"format",value:function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(e){var n=this;e=e.trim();var i=Object.keys(this.options).join(","),s="parseRange:".concat(i,":").concat(e),p=t.get(s);if(p)return p;var d=this.options.loose,g=d?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];e=e.replace(g,I(this.options.includePrerelease)),o("hyphen replace",e),e=e.replace(a[c.COMPARATORTRIM],l),o("comparator trim",e);var m=(e=(e=(e=e.replace(a[c.TILDETRIM],u)).replace(a[c.CARETTRIM],f)).split(/\s+/).join(" ")).split(" ").map((function(e){return v(e,n.options)})).join(" ").split(/\s+/).map((function(e){return A(e,n.options)}));d&&(m=m.filter((function(e){return o("loose invalid filter",e,n.options),!!e.match(a[c.COMPARATORLOOSE])}))),o("range list",m);var y,b=new Map,E=m.map((function(e){return new r(e,n.options)})),w=Dt(E);try{for(w.s();!(y=w.n()).done;){var O=y.value;if(h(O))return[O];b.set(O.value,O)}}catch(e){w.e(e)}finally{w.f()}b.size>1&&b.has("")&&b.delete("");var x=be(b.values());return t.set(s,x),x}},{key:"intersects",value:function(t,n){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((function(e){return d(e,n)&&t.set.some((function(t){return d(t,n)&&e.every((function(e){return t.every((function(t){return e.intersects(t,n)}))}))}))}))}},{key:"test",value:function(e){if(!e)return!1;if("string"==typeof e)try{e=new i(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(N(this.set[t],e,this.options))return!0;return!1}}]),e}();rt=e;var t=new qe({max:1e3}),n=Je,r=function(){if(nt)return tt;nt=1;var e=Symbol("SemVer ANY"),t=function(){function t(r,o){if(Ee(this,t),o=n(o),r instanceof t){if(r.loose===!!o.loose)return r;r=r.value}a("comparator",r,o),this.options=o,this.loose=!!o.loose,this.parse(r),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}return Oe(t,[{key:"parse",value:function(t){var n=this.options.loose?r[o.COMPARATORLOOSE]:r[o.COMPARATOR],i=t.match(n);if(!i)throw new TypeError("Invalid comparator: ".concat(t));this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new c(i[2],this.options.loose):this.semver=e}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(t){if(a("Comparator.test",t,this.options.loose),this.semver===e||t===e)return!0;if("string"==typeof t)try{t=new c(t,this.options)}catch(e){return!1}return i(t,this.operator,this.semver,this.options)}},{key:"intersects",value:function(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");if(n&&"object"===s(n)||(n={loose:!!n,includePrerelease:!1}),""===this.operator)return""===this.value||new l(e.value,n).test(this.value);if(""===e.operator)return""===e.value||new l(this.value,n).test(e.semver);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),a=this.semver.version===e.semver.version,c=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),u=i(this.semver,"<",e.semver,n)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),f=i(this.semver,">",e.semver,n)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||o||a&&c||u||f}}],[{key:"ANY",get:function(){return e}}]),t}();tt=t;var n=Je,r=Qe.exports.re,o=Qe.exports.t,i=kt,a=et,c=gt,l=Ft();return tt}(),o=et,i=gt,a=Qe.exports.re,c=Qe.exports.t,l=Qe.exports.comparatorTrimReplace,u=Qe.exports.tildeTrimReplace,f=Qe.exports.caretTrimReplace,h=function(e){return"<0.0.0-0"===e.value},p=function(e){return""===e.value},d=function(e,t){for(var n=!0,r=e.slice(),o=r.pop();n&&r.length;)n=r.every((function(e){return o.intersects(e,t)})),o=r.pop();return n},v=function(e,t){return o("comp",e,t),e=b(e,t),o("caret",e),e=m(e,t),o("tildes",e),e=w(e,t),o("xrange",e),e=x(e,t),o("stars",e),e},g=function(e){return!e||"x"===e.toLowerCase()||"*"===e},m=function(e,t){return e.trim().split(/\s+/).map((function(e){return y(e,t)})).join(" ")},y=function(e,t){var n=t.loose?a[c.TILDELOOSE]:a[c.TILDE];return e.replace(n,(function(t,n,r,i,a){var c;return o("tilde",e,t,n,r,i,a),g(n)?c="":g(r)?c=">=".concat(n,".0.0 <").concat(+n+1,".0.0-0"):g(i)?c=">=".concat(n,".").concat(r,".0 <").concat(n,".").concat(+r+1,".0-0"):a?(o("replaceTilde pr",a),c=">=".concat(n,".").concat(r,".").concat(i,"-").concat(a," <").concat(n,".").concat(+r+1,".0-0")):c=">=".concat(n,".").concat(r,".").concat(i," <").concat(n,".").concat(+r+1,".0-0"),o("tilde return",c),c}))},b=function(e,t){return e.trim().split(/\s+/).map((function(e){return E(e,t)})).join(" ")},E=function(e,t){o("caret",e,t);var n=t.loose?a[c.CARETLOOSE]:a[c.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(function(t,n,i,a,c){var s;return o("caret",e,t,n,i,a,c),g(n)?s="":g(i)?s=">=".concat(n,".0.0").concat(r," <").concat(+n+1,".0.0-0"):g(a)?s="0"===n?">=".concat(n,".").concat(i,".0").concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".0").concat(r," <").concat(+n+1,".0.0-0"):c?(o("replaceCaret pr",c),s="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(a,"-").concat(c," <").concat(n,".").concat(i,".").concat(+a+1,"-0"):">=".concat(n,".").concat(i,".").concat(a,"-").concat(c," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(a,"-").concat(c," <").concat(+n+1,".0.0-0")):(o("no pr"),s="0"===n?"0"===i?">=".concat(n,".").concat(i,".").concat(a).concat(r," <").concat(n,".").concat(i,".").concat(+a+1,"-0"):">=".concat(n,".").concat(i,".").concat(a).concat(r," <").concat(n,".").concat(+i+1,".0-0"):">=".concat(n,".").concat(i,".").concat(a," <").concat(+n+1,".0.0-0")),o("caret return",s),s}))},w=function(e,t){return o("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return O(e,t)})).join(" ")},O=function(e,t){e=e.trim();var n=t.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return e.replace(n,(function(n,r,i,a,c,s){o("xRange",e,n,r,i,a,c,s);var l=g(i),u=l||g(a),f=u||g(c),h=f;return"="===r&&h&&(r=""),s=t.includePrerelease?"-0":"",l?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(u&&(a=0),c=0,">"===r?(r=">=",u?(i=+i+1,a=0,c=0):(a=+a+1,c=0)):"<="===r&&(r="<",u?i=+i+1:a=+a+1),"<"===r&&(s="-0"),n="".concat(r+i,".").concat(a,".").concat(c).concat(s)):u?n=">=".concat(i,".0.0").concat(s," <").concat(+i+1,".0.0-0"):f&&(n=">=".concat(i,".").concat(a,".0").concat(s," <").concat(i,".").concat(+a+1,".0-0")),o("xRange return",n),n}))},x=function(e,t){return o("replaceStars",e,t),e.trim().replace(a[c.STAR],"")},A=function(e,t){return o("replaceGTE0",e,t),e.trim().replace(a[t.includePrerelease?c.GTE0PRE:c.GTE0],"")},I=function(e){return function(t,n,r,o,i,a,c,s,l,u,f,h,p){return n=g(r)?"":g(o)?">=".concat(r,".0.0").concat(e?"-0":""):g(i)?">=".concat(r,".").concat(o,".0").concat(e?"-0":""):a?">=".concat(n):">=".concat(n).concat(e?"-0":""),s=g(l)?"":g(u)?"<".concat(+l+1,".0.0-0"):g(f)?"<".concat(l,".").concat(+u+1,".0-0"):h?"<=".concat(l,".").concat(u,".").concat(f,"-").concat(h):e?"<".concat(l,".").concat(u,".").concat(+f+1,"-0"):"<=".concat(s),"".concat(n," ").concat(s).trim()}},N=function(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(var a=0;a<e.length;a++)if(o(e[a].semver),e[a].semver!==r.ANY&&e[a].semver.prerelease.length>0){var c=e[a].semver;if(c.major===t.major&&c.minor===t.minor&&c.patch===t.patch)return!0}return!1}return!0};return rt}var Pt=Ft(),_t=function(e,t,n){try{t=new Pt(t,n)}catch(e){return!1}return t.test(e)};var jt={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},Mt={"*":function(e,t){return e*t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},">":function(e,t){return e>t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},"==":function(e,t){return e==t},"!=":function(e,t){return e!=t},"===":function(e,t){return e===t},"!==":function(e,t){return e!==t},"&":function(e,t){return e&t},"|":function(e,t){return e|t},"^":function(e,t){return e^t},"<<":function(e,t){return e<<t},">>":function(e,t){return e>>t},">>>":function(e,t){return e>>>t}},zt={"+":function(e){return+e},"-":function(e){return-e},"~":function(e){return~e},"!":function(e){return!e}},Ut=Array.prototype.slice,Gt=function(e,t,n){var r=n?n(t[0]):t[0];return r[e].apply(r,Ut.call(t,1))},Bt={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},now:Date.now,utc:Date.UTC,datetime:function(e,t,n,r,o,i,a){return new Date(e,t||0,null!=n?n:1,r||0,o||0,i||0,a||0)},date:function(e){return new Date(e).getDate()},day:function(e){return new Date(e).getDay()},year:function(e){return new Date(e).getFullYear()},month:function(e){return new Date(e).getMonth()},hours:function(e){return new Date(e).getHours()},minutes:function(e){return new Date(e).getMinutes()},seconds:function(e){return new Date(e).getSeconds()},milliseconds:function(e){return new Date(e).getMilliseconds()},time:function(e){return new Date(e).getTime()},timezoneoffset:function(e){return new Date(e).getTimezoneOffset()},utcdate:function(e){return new Date(e).getUTCDate()},utcday:function(e){return new Date(e).getUTCDay()},utcyear:function(e){return new Date(e).getUTCFullYear()},utcmonth:function(e){return new Date(e).getUTCMonth()},utchours:function(e){return new Date(e).getUTCHours()},utcminutes:function(e){return new Date(e).getUTCMinutes()},utcseconds:function(e){return new Date(e).getUTCSeconds()},utcmilliseconds:function(e){return new Date(e).getUTCMilliseconds()},length:function(e){return e.length},join:function(){return Gt("join",arguments)},indexof:function(){return Gt("indexOf",arguments)},lastindexof:function(){return Gt("lastIndexOf",arguments)},slice:function(){return Gt("slice",arguments)},reverse:function(e){return e.slice().reverse()},parseFloat:parseFloat,parseInt:parseInt,upper:function(e){return String(e).toUpperCase()},lower:function(e){return String(e).toLowerCase()},substring:function(){return Gt("substring",arguments,String)},split:function(){return Gt("split",arguments,String)},replace:function(){return Gt("replace",arguments,String)},trim:function(e){return String(e).trim()},regexp:RegExp,test:function(e,t){return RegExp(e).test(t)}},Xt=["view","item","group","xy","x","y"],Vt={Literal:function(e,t){return t.value},Identifier:function(e,t){var n=t.name;return e.memberDepth>0?n:"datum"===n?e.datum:"event"===n?e.event:"item"===n?e.item:jt[n]||e.params["$"+n]},MemberExpression:function(e,t){var n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);var o=e(t.property);return n&&(e.memberDepth-=1),r[o]},CallExpression:function(e,t){var n=t.arguments,r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),"if"===r?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||Bt[r]).apply(e.fn,n.map(e))},ArrayExpression:function(e,t){return t.elements.map(e)},BinaryExpression:function(e,t){return Mt[t.operator](e(t.left),e(t.right))},UnaryExpression:function(e,t){return zt[t.operator](e(t.argument))},ConditionalExpression:function(e,t){return e(t.test)?e(t.consequent):e(t.alternate)},LogicalExpression:function(e,t){return"&&"===t.operator?e(t.left)&&e(t.right):e(t.left)||e(t.right)},ObjectExpression:function(e,t){return t.properties.reduce((function(t,n){e.memberDepth+=1;var r=e(n.key);return e.memberDepth-=1,t[r]=e(n.value),t}),{})}};function Wt(e,t,n,r,o,i){var a=function e(t){return Vt[t.type](e,t)};return a.memberDepth=0,a.fn=Object.create(t),a.params=n,a.datum=r,a.event=o,a.item=i,Xt.forEach((function(e){return a.fn[e]=function(){var t;return(t=o.vega)[e].apply(t,arguments)}})),a(e)}var $t={operator:function(e,t){var n=t.ast,r=e.functions;return function(e){return Wt(n,r,e)}},parameter:function(e,t){var n=t.ast,r=e.functions;return function(e,t){return Wt(n,r,t,e)}},event:function(e,t){var n=t.ast,r=e.functions;return function(e){return Wt(n,r,void 0,void 0,e)}},handler:function(e,t){var n=t.ast,r=e.functions;return function(e,t){var o=t.item&&t.item.datum;return Wt(n,r,e,o,t)}},encode:function(e,t){var n=t.marktype,r=t.channels,o=e.functions,i="group"===n||"image"===n||"rect"===n;return function(e,t){var a,c=e.datum,s=0;for(var l in r)a=Wt(r[l].ast,o,t,c,void 0,e),e[l]!==a&&(e[l]=a,s=1);return"rule"!==n&&function(e,t,n){var r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}(e,r,i),s}}};function Ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e){var t=Ht(/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3),2);return{library:t[0],version:t[1]}}var Yt="#fff",Jt={background:"#333",title:{color:Yt,subtitleColor:Yt},style:{"guide-label":{fill:Yt},"guide-title":{fill:Yt}},axis:{domainColor:Yt,gridColor:"#888",tickColor:Yt}},Qt="#4572a7",Zt={background:"#fff",arc:{fill:Qt},area:{fill:Qt},line:{stroke:Qt,strokeWidth:2},path:{stroke:Qt},rect:{fill:Qt},shape:{stroke:Qt},symbol:{fill:Qt,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},Kt="#30a2da",en="#cbcbcb",tn="#f0f0f0",nn="#333",rn={arc:{fill:Kt},area:{fill:Kt},axis:{domainColor:en,grid:!0,gridColor:en,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:en,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:tn,group:{fill:tn},legend:{labelColor:nn,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:nn,titleFontSize:14,titlePadding:10},line:{stroke:Kt,strokeWidth:2},path:{stroke:Kt,strokeWidth:.5},rect:{fill:Kt},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:Kt},bar:{binSpacing:2,fill:Kt,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},on="#000",an={group:{fill:"#e5e5e5"},arc:{fill:on},area:{fill:on},line:{stroke:on},path:{stroke:on},rect:{fill:on},shape:{stroke:on},symbol:{fill:on,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},cn="Benton Gothic, sans-serif",sn="#82c6df",ln="Benton Gothic Bold, sans-serif",un="normal",fn={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},hn={background:"#ffffff",title:{anchor:"start",color:"#000000",font:ln,fontSize:22,fontWeight:"normal"},arc:{fill:sn},area:{fill:sn},line:{stroke:sn,strokeWidth:2},path:{stroke:sn},rect:{fill:sn},shape:{stroke:sn},symbol:{fill:sn,size:30},axis:{labelFont:cn,labelFontSize:11.5,labelFontWeight:"normal",titleFont:ln,titleFontSize:13,titleFontWeight:un},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:cn,labelFontSize:11.5,symbolType:"square",titleFont:ln,titleFontSize:13,titleFontWeight:un},range:{category:fn["category-6"],diverging:fn["fireandice-6"],heatmap:fn["fire-7"],ordinal:fn["fire-7"],ramp:fn["fire-7"]}},pn="#ab5787",dn="#979797",vn={background:"#f9f9f9",arc:{fill:pn},area:{fill:pn},line:{stroke:pn},path:{stroke:pn},rect:{fill:pn},shape:{stroke:pn},symbol:{fill:pn,size:30},axis:{domainColor:dn,domainWidth:.5,gridWidth:.2,labelColor:dn,tickColor:dn,tickWidth:.2,titleColor:dn},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},gn="#3e5c69",mn={background:"#fff",arc:{fill:gn},area:{fill:gn},line:{stroke:gn},path:{stroke:gn},rect:{fill:gn},shape:{stroke:gn},symbol:{fill:gn},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},yn="#1696d2",bn="#000000",En="Lato",wn="Lato",On={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},xn={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:En},axisX:{domain:!0,domainColor:bn,domainWidth:1,grid:!1,labelFontSize:12,labelFont:wn,labelAngle:0,tickColor:bn,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:En},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:wn,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:En,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:wn,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:En,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:On["six-groups-cat-1"],diverging:On["diverging-colors"],heatmap:On["diverging-colors"],ordinal:On["six-groups-seq"],ramp:On["shades-blue"]},area:{fill:yn},rect:{fill:yn},line:{color:yn,stroke:yn,strokeWidth:5},trail:{color:yn,stroke:yn,strokeWidth:0,size:1},path:{stroke:yn,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:yn,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:yn,stroke:null}},arc:{fill:yn},shape:{stroke:yn},symbol:{fill:yn,size:30}},An="#3366CC",In="#ccc",Nn="Arial, sans-serif",Ln={arc:{fill:An},area:{fill:An},path:{stroke:An},rect:{fill:An},shape:{stroke:An},symbol:{stroke:An},circle:{fill:An},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:Nn,fontSize:12},"guide-title":{font:Nn,fontSize:12},"group-title":{font:Nn,fontSize:12}},title:{font:Nn,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:In,tickColor:In,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Sn="2.10.0",Tn=Object.freeze({__proto__:null,dark:Jt,excel:Zt,fivethirtyeight:rn,ggplot2:an,googlecharts:Ln,latimes:hn,quartz:vn,urbaninstitute:xn,version:Sn,vox:mn});function Rn(e,t,n){return e.fields=t||[],e.fname=n,e}function kn(e){return 1===e.length?Dn(e[0]):Cn(e)}var Dn=function(e){return function(t){return t[e]}},Cn=function(e){var t=e.length;return function(n){for(var r=0;r<t;++r)n=n[e[r]];return n}};function Fn(e){throw Error(e)}!function(e,t,n){var r=function(e){var t,n,r,o=[],i=e.length,a=null,c=0,s="";function l(){o.push(s+e.substring(t,n)),s="",t=n+1}for(e+="",t=n=0;n<i;++n)if("\\"===(r=e[n]))s+=e.substring(t,n),s+=e.substring(++n,++n),t=n;else if(r===a)l(),a=null,c=-1;else{if(a)continue;t===c&&'"'===r||t===c&&"'"===r?(t=n+1,a=r):"."!==r||c?"["===r?(n>t&&l(),c=t=n+1):"]"===r&&(c||Fn("Access path missing open bracket: "+e),c>0&&l(),c=0,t=n+1):n>t?l():t=n+1}return c&&Fn("Access path missing closing bracket: "+e),a&&Fn("Access path missing closing quote: "+e),n>t&&(n++,l()),o}(e);e=1===r.length?r[0]:e,Rn((n&&n.get||kn)(r),[e],t||e)}("id"),Rn((function(e){return e}),[],"identity"),Rn((function(){return 0}),[],"zero"),Rn((function(){return 1}),[],"one"),Rn((function(){return!0}),[],"true"),Rn((function(){return!1}),[],"false");var Pn=Array.isArray;function _n(e){return e===Object(e)}function jn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function zn(e,t){return JSON.stringify(e,function(e){var t=[];return function(n,r){if("object"!==s(r)||null===r)return r;var o=t.indexOf(this)+1;return t.length=o,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}(t))}var Un="vg-tooltip-element",Gn={offsetX:10,offsetY:10,id:Un,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2,formatTooltip:function(e,t,n){if(Pn(e))return"[".concat(e.map((function(e){return t("string"==typeof e?e:zn(e,n))})).join(", "),"]");if(_n(e)){var r="",o=e,i=o.title,a=o.image,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(o,["title","image"]);i&&(r+="<h2>".concat(t(i),"</h2>")),a&&(r+='<img src="'.concat(t(a),'">'));var s=Object.keys(c);if(s.length>0){r+="<table>";var l,u=jn(s);try{for(u.s();!(l=u.n()).done;){var f=l.value,h=c[f];void 0!==h&&(_n(h)&&(h=zn(h,n)),r+='<tr><td class="key">'.concat(t(f),':</td><td class="value">').concat(t(h),"</td></tr>"))}}catch(e){u.e(e)}finally{u.f()}r+="</table>"}return r||"{}"}return t(e)}};var Bn=function(){function e(t){Ee(this,e),this.options=Object.assign(Object.assign({},Gn),t);var n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace(Un,e)}(n);var o=document.head;o.childNodes.length>0?o.insertBefore(r,o.childNodes[0]):o.appendChild(r)}}return Oe(e,[{key:"tooltipHandler",value:function(e,t,n,r){var o;(this.el=document.getElementById(this.options.id),this.el)||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(o=document.fullscreenElement)&&void 0!==o?o:document.body).appendChild(this.el));if(null!=r&&""!==r){this.el.innerHTML=this.options.formatTooltip(r,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible","".concat(this.options.theme,"-theme"));var i=function(e,t,n,r){var o=e.clientX+n;o+t.width>window.innerWidth&&(o=+e.clientX-n-t.width);var i=e.clientY+r;return i+t.height>window.innerHeight&&(i=+e.clientY-r-t.height),{x:o,y:i}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),a=i.x,c=i.y;this.el.setAttribute("style","top: ".concat(c,"px; left: ").concat(a,"px"))}else this.el.classList.remove("visible","".concat(this.options.theme,"-theme"))}}]),e}();function Xn(e,t,n){var r=e.open(t),o=new URL(t).origin,i=40;e.addEventListener("message",(function t(n){n.source===r&&(i=0,e.removeEventListener("message",t,!1))}),!1),setTimeout((function e(){i<=0||(r.postMessage(n,o),setTimeout(e,250),i-=1)}),250)}var Vn='.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) > :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n';function Wn(e){return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//")}function $n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,i=n;o<i.length;o++){var a=i[o];Hn(e,a)}return e}function Hn(t,n){for(var r=0,o=Object.keys(n);r<o.length;r++){var i=o[r];e.writeConfig(t,i,n[i],!0)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});var qn;function Yn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kn="6.21.0",er=r,tr=o,nr="undefined"!=typeof window?window:void 0;void 0===tr&&null!=nr&&null!==(qn=nr.vl)&&void 0!==qn&&qn.compile&&(tr=nr.vl);var rr={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},or={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},ir={vega:"Vega","vega-lite":"Vega-Lite"},ar={vega:er.version,"vega-lite":tr?tr.version:"not available"},cr={vega:function(e){return e},"vega-lite":function(e,t){return tr.compile(e,{config:t}).spec}},sr='\n<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">\n  <circle r="2" cy="8" cx="2"></circle>\n  <circle r="2" cy="8" cx="8"></circle>\n  <circle r="2" cy="8" cx="14"></circle>\n</svg>',lr="chart-wrapper";function ur(e){return"function"==typeof e}function fr(e,t,n,r){var o="<html><head>".concat(t,'</head><body><pre><code class="json">'),i="</code></pre>".concat(n,"</body></html>"),a=window.open("");a.document.write(o+e+i),a.document.title="".concat(ir[r]," JSON Source")}function hr(e,t){if(e.$schema){var n,r=qt(e.$schema);if(t&&t!==r.library)console.warn("The given visualization spec is written in ".concat(ir[r.library],", but mode argument sets ").concat(null!==(n=ir[t])&&void 0!==n?n:t,"."));var o=r.library;return _t(ar[o],"^".concat(r.version.slice(1)))||console.warn("The input spec uses ".concat(ir[o]," ").concat(r.version,", but the current version of ").concat(ir[o]," is v").concat(ar[o],".")),o}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!=t?t:"vega"}function pr(e){return(t=e)&&"load"in t?e:er.loader(e);var t}function dr(t){var n,r,o=null!==(n=null===(r=t.usermeta)||void 0===r?void 0:r.embedOptions)&&void 0!==n?n:{};return e.isString(o.defaultStyle)&&(o.defaultStyle=!1),o}function vr(e,t){return gr.apply(this,arguments)}function gr(){return gr=c(U.mark((function t(n,r){var o,i,a,c,s,l,u,f,h,p,d,v=arguments;return U.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=v.length>2&&void 0!==v[2]?v[2]:{},!e.isString(r)){t.next=10;break}return s=pr(a.loader),t.t0=JSON,t.next=6,s.load(r);case 6:t.t1=t.sent,c=t.t0.parse.call(t.t0,t.t1),t.next=11;break;case 10:c=r;case 11:return l=dr(c),u=l.loader,s&&!u||(s=pr(null!==(f=a.loader)&&void 0!==f?f:u)),t.next=16,mr(l,s);case 16:return h=t.sent,t.next=19,mr(a,s);case 19:return p=t.sent,d=Zn(Zn({},$n(p,h)),{},{config:e.mergeConfig(null!==(o=p.config)&&void 0!==o?o:{},null!==(i=h.config)&&void 0!==i?i:{})}),t.next=23,Er(n,c,d,s);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}}),t)}))),gr.apply(this,arguments)}function mr(e,t){return yr.apply(this,arguments)}function yr(){return(yr=c(U.mark((function t(n,r){var o,i,a;return U.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isString(n.config)){t.next=8;break}return t.t1=JSON,t.next=4,r.load(n.config);case 4:t.t2=t.sent,t.t0=t.t1.parse.call(t.t1,t.t2),t.next=9;break;case 8:t.t0=null!==(o=n.config)&&void 0!==o?o:{};case 9:if(i=t.t0,!e.isString(n.patch)){t.next=18;break}return t.t4=JSON,t.next=14,r.load(n.patch);case 14:t.t5=t.sent,t.t3=t.t4.parse.call(t.t4,t.t5),t.next=19;break;case 18:t.t3=n.patch;case 19:return a=t.t3,t.abrupt("return",Zn(Zn(Zn({},n),a?{patch:a}:{}),i?{config:i}:{}));case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function br(e){var t,n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:null!==(t=document.head)&&void 0!==t?t:document.body}}function Er(e,t){return wr.apply(this,arguments)}function wr(){return wr=c(U.mark((function t(n,r){var o,i,a,s,l,u,f,h,p,d,v,g,m,y,b,E,w,O,x,A,I,N,L,S,T,R,k,D,C,F,P,_,j,M,z,G,B,X,V,W,$,H,q,Y,J,Q,Z,K,ee,te,ne,re=arguments;return U.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ne=function(){X&&document.removeEventListener("click",X),_.finalize()},h=re.length>2&&void 0!==re[2]?re[2]:{},p=re.length>3?re[3]:void 0,d=h.theme?e.mergeConfig(Tn[h.theme],null!==(o=h.config)&&void 0!==o?o:{}):h.config,v=e.isBoolean(h.actions)?h.actions:$n({},rr,null!==(i=h.actions)&&void 0!==i?i:{}),g=Zn(Zn({},or),h.i18n),m=null!==(a=h.renderer)&&void 0!==a?a:"canvas",y=null!==(s=h.logLevel)&&void 0!==s?s:er.Warn,b=null!==(l=h.downloadFileName)&&void 0!==l?l:"visualization",E="string"==typeof n?document.querySelector(n):n){t.next=12;break}throw new Error("".concat(n," does not exist"));case 12:if(!1!==h.defaultStyle&&(w="vega-embed-style",O=br(E),x=O.root,A=O.rootContainer,x.getElementById(w)||((I=document.createElement("style")).id=w,I.innerHTML=void 0===h.defaultStyle||!0===h.defaultStyle?Vn.toString():h.defaultStyle,A.appendChild(I))),N=hr(r,h.mode),L=cr[N](r,d),"vega-lite"===N&&L.$schema&&(S=qt(L.$schema),_t(ar.vega,"^".concat(S.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(S.version,", but current version is v").concat(ar.vega,"."))),E.classList.add("vega-embed"),v&&E.classList.add("has-actions"),E.innerHTML="",T=E,v&&((R=document.createElement("div")).classList.add(lr),E.appendChild(R),T=R),(k=h.patch)&&(L=k instanceof Function?k(L):oe(L,k,!0,!1).newDocument),h.formatLocale&&er.formatLocale(h.formatLocale),h.timeFormatLocale&&er.timeFormatLocale(h.timeFormatLocale),h.expressionFunctions)for(D in h.expressionFunctions)"fn"in(C=h.expressionFunctions[D])?er.expressionFunction(D,C.fn,C.visitor):C instanceof Function&&er.expressionFunction(D,C);return F=h.ast,P=er.parse(L,"vega-lite"===N?{}:d,{ast:F}),(_=new(h.viewClass||er.View)(P,Zn({loader:p,logLevel:y,renderer:m},F?{expr:null!==(u=null!==(f=er.expressionInterpreter)&&void 0!==f?f:h.expr)&&void 0!==u?u:$t}:{}))).addSignalListener("autosize",(function(e,t){var n=t.type;"fit-x"==n?(T.classList.add("fit-x"),T.classList.remove("fit-y")):"fit-y"==n?(T.classList.remove("fit-x"),T.classList.add("fit-y")):"fit"==n?T.classList.add("fit-x","fit-y"):T.classList.remove("fit-x","fit-y")})),!1!==h.tooltip&&(j=ur(h.tooltip)?h.tooltip:new Bn(!0===h.tooltip?{}:h.tooltip).call,_.tooltip(j)),void 0===(M=h.hover)&&(M="vega"===N),M&&(G=(z="boolean"==typeof M?{}:M).hoverSet,B=z.updateSet,_.hover(G,B)),h&&(null!=h.width&&_.width(h.width),null!=h.height&&_.height(h.height),null!=h.padding&&_.padding(h.padding)),t.next=37,_.initialize(T,h.bind).runAsync();case 37:if(!1!==v){if(V=E,!1!==h.defaultStyle&&((W=document.createElement("details")).title=g.CLICK_TO_VIEW_ACTIONS,E.append(W),V=W,($=document.createElement("summary")).innerHTML=sr,W.append($),X=function(e){W.contains(e.target)||W.removeAttribute("open")},document.addEventListener("click",X)),H=document.createElement("div"),V.append(H),H.classList.add("vega-actions"),!0===v||!1!==v.export){q=Yn(["svg","png"]);try{for(J=function(){var e=Y.value;if(!0===v||!0===v.export||v.export[e]){var t=g["".concat(e.toUpperCase(),"_ACTION")],n=document.createElement("a");n.text=t,n.href="#",n.target="_blank",n.download="".concat(b,".").concat(e),n.addEventListener("mousedown",function(){var t=c(U.mark((function t(n){var r;return U.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,_.toImageURL(e,h.scaleFactor);case 3:r=t.sent,this.href=r;case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()),H.append(n)}},q.s();!(Y=q.n()).done;)J()}catch(e){q.e(e)}finally{q.f()}}!0!==v&&!1===v.source||((Q=document.createElement("a")).text=g.SOURCE_ACTION,Q.href="#",Q.addEventListener("click",(function(e){var t,n;fr(ge(r),null!==(t=h.sourceHeader)&&void 0!==t?t:"",null!==(n=h.sourceFooter)&&void 0!==n?n:"",N),e.preventDefault()})),H.append(Q)),"vega-lite"!==N||!0!==v&&!1===v.compiled||((Z=document.createElement("a")).text=g.COMPILED_ACTION,Z.href="#",Z.addEventListener("click",(function(e){var t,n;fr(ge(L),null!==(t=h.sourceHeader)&&void 0!==t?t:"",null!==(n=h.sourceFooter)&&void 0!==n?n:"","vega"),e.preventDefault()})),H.append(Z)),!0!==v&&!1===v.editor||(ee=null!==(K=h.editorUrl)&&void 0!==K?K:"https://vega.github.io/editor/",(te=document.createElement("a")).text=g.EDITOR_ACTION,te.href="#",te.addEventListener("click",(function(e){Xn(window,ee,{config:d,mode:N,renderer:m,spec:ge(r)}),e.preventDefault()})),H.append(te))}return t.abrupt("return",{view:_,spec:r,vgSpec:L,finalize:ne,embedOptions:h});case 39:case"end":return t.stop()}}),t)}))),wr.apply(this,arguments)}function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ar(e){return Ir.apply(this,arguments)}function Ir(){return Ir=c(U.mark((function e(t){var n,r,o,i,a,c,s=arguments;return U.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},(o=document.createElement("div")).classList.add("vega-embed-wrapper"),i=document.createElement("div"),o.appendChild(i),a=!0===r.actions||!1===r.actions?r.actions:xr({export:!0,source:!1,compiled:!0,editor:!0},null!==(n=r.actions)&&void 0!==n?n:{}),e.next=8,vr(i,t,xr({actions:a},null!=r?r:{}));case 8:return c=e.sent,o.value=c.view,e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)}))),Ir.apply(this,arguments)}function Nr(e){return e instanceof HTMLElement}var Lr=function(){return arguments.length>1&&(e.isString(arguments.length<=0?void 0:arguments[0])&&!Wn(arguments.length<=0?void 0:arguments[0])||Nr(arguments.length<=0?void 0:arguments[0])||3===arguments.length)?vr(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]):Ar(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])};return Lr.vegaLite=tr,Lr.vl=tr,Lr.container=Ar,Lr.embed=vr,Lr.vega=er,Lr.default=vr,Lr.version=Kn,Lr}));
//# sourceMappingURL=vega-embed.min.js.map
